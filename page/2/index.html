<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Ye&#39;s Tech Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Ye&#39;s Tech Blog">
<meta property="og:url" content="https://wy3148.github.io/page/2/index.html">
<meta property="og:site_name" content="Ye&#39;s Tech Blog">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Ye&#39;s Tech Blog">
  
    <link rel="alternate" href="/atom.xml" title="Ye&#39;s Tech Blog" type="application/atom+xml">
  
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" integrity="sha384-XdYbMnZ/QjLh6iI4ogqCTaIjrFk87ip+ekIjefZch0Y+PvJ8CDYtEs1ipDmPorQ+" crossorigin="anonymous">

  <link rel="stylesheet" href="/css/styles.css">
  

</head>
</html>
<body>
  <nav class="navbar navbar-inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-menu-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="main-menu-navbar">
      <ul class="nav navbar-nav">
        
          <li><a class="" href="/index.html">Home</a></li>
        
          <li><a class="" href="/archives/">Archives</a></li>
        
      </ul>

      <!--
      <ul class="nav navbar-nav navbar-right">
        
          <li><a href="/atom.xml" title="RSS Feed"><i class="fa fa-rss"></i></a></li>
        
      </ul>
      -->
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

  <div class="container">
    <div class="blog-header">
  <h1 class="blog-title">Ye&#39;s Tech Blog</h1>
  
</div>

    <div class="row">
        <div class="col-sm-8 blog-main">
          
  
    <article id="post-http-performance-testing" class="article article-type-post" itemscope="" itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/05/http-performance-testing/">benchmark tools for http/https/restAPI testing</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2017/09/05/http-performance-testing/" class="article-date"><time datetime="2017-09-05T00:21:10.000Z" itemprop="datePublished">2017-09-05</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>#Benchmark tools</p>
<ul>
<li><a href="http://en.wikipedia.org/wiki/ApacheBench" target="_blank" rel="noopener"><strong>ab</strong></a> – slow and single threaded, written in <code>C</code></li>
<li><a href="https://github.com/apigee/apib" target="_blank" rel="noopener"><strong>apib</strong></a> – most of the features of ApacheBench (<code>ab</code>), also designed as a <a href="https://github.com/apigee/apib#design" target="_blank" rel="noopener">more modern replacement</a>, written in <code>C</code></li>
<li><a href="https://github.com/h2non/baloo" target="_blank" rel="noopener"><strong>baloo</strong></a> – Expressive end-to-end HTTP API testing made easy, written in Go (<code>golang</code>)</li>
<li><a href="https://github.com/codesenberg/bombardier" target="_blank" rel="noopener"><strong>bombardier</strong></a> – Fast crossplatform HTTP benchmarking tool, written in Go (<code>golang</code>)</li>
<li><a href="http://curl-loader.sourceforge.net/" target="_blank" rel="noopener"><strong>curl-loader</strong></a> – performance loading of various application services and traffic generation, written in <code>C</code></li>
<li><a href="https://github.com/hagen1778/fasthttploader" target="_blank" rel="noopener"><strong>fasthttploader</strong></a> – benchmark (kinda ab) with autoadjustment and charts based on fasthttp library, write in Go (<code>golang</code>)</li>
<li><a href="http://gatling.io" target="_blank" rel="noopener"><strong>gatling</strong></a> – High performance load testing framework based on Scala, Akka and Netty, write in <code>Scala</code></li>
<li><a href="https://github.com/gophergala2016/goad" target="_blank" rel="noopener"><strong>goad</strong></a> – Goad is an AWS Lambda powered, highly distributed, load testing tool, write in Go (<code>golang</code>)</li>
<li><a href="https://github.com/cmpxchg16/gobench" target="_blank" rel="noopener"><strong>gobench</strong></a> – HTTP/HTTPS load testing and benchmarking tool, write in Go (<code>golang</code>)</li>
<li><a href="https://github.com/parkghost/gohttpbench" target="_blank" rel="noopener"><strong>gohttpbench</strong></a> – <code>ab</code>-like benchmark tool run on multi-core cpu, write in Go (<code>golang</code>)</li>
<li><a href="https://github.com/rakyll/hey" target="_blank" rel="noopener"><strong>hey</strong></a> – HTTP(S) load generator, ApacheBench (<code>ab</code>) replacement, formerly known as <a href="https://github.com/rakyll/boom" target="_blank" rel="noopener"><strong>rakyll/boom</strong></a>, written in Go (<code>golang</code>)</li>
<li><a href="https://github.com/arut/htstress" target="_blank" rel="noopener"><strong>htstress</strong></a> – multithreading high-load bechmarking services (&gt;5K rps), written in <code>C</code>/<code>Linux</code></li>
<li><a href="https://github.com/httperf/httperf" target="_blank" rel="noopener"><strong>httperf</strong></a> – difficult configuration, slow and single threaded, written in <code>C</code></li>
<li><a href="https://github.com/opsengine/inundator" target="_blank" rel="noopener"><strong>inundator</strong></a> – A simple and high-throughput HTTP flood program, written in <code>C</code>/<code>Linux</code></li>
<li><a href="http://jmeter.apache.org/" target="_blank" rel="noopener"><strong>jmeter</strong></a> – Apache  JMeter™, pure application designed to load test performance both on static and dynamic resources, written in <code>Java</code></li>
<li><a href="https://github.com/byorty/mgun" target="_blank" rel="noopener"><strong>mgun</strong></a> – A modern tool for load testing HTTP servers, written in Go (<code>golang</code>)</li>
<li><a href="https://github.com/X4/pounce" target="_blank" rel="noopener"><strong>pounce</strong></a> – evented, but results fluctuate, it’s sometimes faster than <code>htstress</code>, written in <code>C</code></li>
<li><a href="http://www.joedog.org/siege-home/" target="_blank" rel="noopener"><strong>siege</strong></a> – slow and single threaded, written in <code>C</code></li>
<li><a href="https://github.com/ikruglov/slapper" target="_blank" rel="noopener"><strong>slapper</strong></a> – Simple load testing tool with real-time updated histogram of request timings, written in Go (<code>golang</code>)</li>
<li><a href="https://github.com/BuoyantIO/slow_cooker" target="_blank" rel="noopener"><strong>slow_cooker</strong></a> – A load tester focused on lifecycle issues and long-running tests, service with a predictable load and concurrency level for a long period of time, written in Go (<code>golang</code>)</li>
<li><a href="https://github.com/lubia/sniper" target="_blank" rel="noopener"><strong>sniper</strong></a> – powerful &amp; high-performance http load tester, written in Go (<code>golang</code>)</li>
<li><a href="http://tsung.erlang-projects.org/" target="_blank" rel="noopener"><strong>tsung</strong></a> – Simulate stress users in order to test the scalability and performance of IP based client/server applications <code>HTTP</code>, <code>WebDAV</code>, <code>SOAP</code>, <code>PostgreSQL</code>, <code>MySQL</code>, <code>LDAP</code> and <code>Jabber</code>/<code>XMPP</code> servers, written in <code>Erlang</code></li>
<li><a href="https://github.com/tsenart/vegeta" target="_blank" rel="noopener"><strong>vegeta</strong></a> – HTTP load testing tool and library, written in Go (<code>golang</code>)</li>
<li><a href="https://github.com/lighttpd/weighttp" target="_blank" rel="noopener"><strong>weighttp</strong></a> – multithreaded, but slower than htstress without keepalive, written in <code>C</code></li>
<li><a href="https://github.com/wg/wrk" target="_blank" rel="noopener"><strong>wrk</strong></a> – multithreaded<del>, but doesn’t offer concurrent connections and a keepalive switch</del>, written in <code>C</code>/<code>Lua</code></li>
<li><p><a href="https://github.com/giltene/wrk2" target="_blank" rel="noopener"><strong>wrk2</strong></a> – constant throughput, correct latency recording variant of wrk, written in <code>C</code>/<code>Lua</code></p>
<pre><code>Concurrent connections are enabled with:
  -c, --connections &lt;N&gt;  Connections to keep open
And keepalive (which is default) can be disabled using:
  -H &quot;Connection: close&quot;
</code></pre></li>
<li><a href="https://github.com/yandex/yandex-tank" target="_blank" rel="noopener"><strong>yandex-tank</strong></a> – Load and performance benchmark tool, written in <code>Python</code>/<code>C|C++|Asm</code> (<a href="https://github.com/yandex-load/phantom" target="_blank" rel="noopener">phantom</a>)</li>
</ul>
<h1 id="Toolkit-for-testing-debugging-HTTP-S-and-restAPI-RESTful"><a href="#Toolkit-for-testing-debugging-HTTP-S-and-restAPI-RESTful" class="headerlink" title="Toolkit for testing/debugging HTTP(S) and restAPI (RESTful)"></a>Toolkit for testing/debugging HTTP(S) and restAPI (RESTful)</h1><ul>
<li><a href="https://github.com/astaxie/bat" target="_blank" rel="noopener"><strong>bat</strong></a> – Go implement CLI, cURL-like tool for humans, written in Go (<code>golang</code>)</li>
<li><a href="https://github.com/curl/curl" target="_blank" rel="noopener"><strong>curl</strong></a> – Powerful features command-line tool for transferring data specified with URL syntax, written in <code>C</code><ul>
<li><a href="https://curlbuilder.com/" target="_blank" rel="noopener">Online curl command line builde</a></li>
</ul>
</li>
<li><a href="https://github.com/NickCarneiro/curlconverter" target="_blank" rel="noopener"><strong>curlconverter</strong></a> – convert curl commands to python, javascript, php</li>
<li><a href="https://github.com/jkbrzt/httpie" target="_blank" rel="noopener"><strong>httpie</strong></a> – client, user-friendly curl replacement with intuitive UI, JSON support, syntax highlighting, wget-like downloads, extensions, written in <code>Python</code></li>
<li><a href="https://github.com/stedolan/jq" target="_blank" rel="noopener"><strong>jq</strong></a> – is a lightweight and flexible command-line JSON processor, written in <code>C</code></li>
</ul>
<h1 id="SaaS-PaaS"><a href="#SaaS-PaaS" class="headerlink" title="SaaS/PaaS"></a>SaaS/PaaS</h1><ul>
<li><a href="https://www.blitz.io/" target="_blank" rel="noopener"><strong>blitz.io</strong></a> – an easy solution to load and performance testing from the Cloud. Test scaliability on websites, mobile, web apps and REST APIs.</li>
<li><a href="https://blazemeter.com/" target="_blank" rel="noopener"><strong>BlazeMeter</strong></a> – offers a cross-enterprise test automation framework for the entire technical team (developers, devops, ops and QA) throughout the product development lifecycle. Run continuous or ‘on demand’ testing for APIs, mobile apps and websites. Run from the cloud, on-premise or as a hybrid solution. Use with JMeter &amp; Selenium WebDriver &amp; integrate with your existing CI, CD &amp; APM tools.</li>
<li><a href="http://newrelic.com/" target="_blank" rel="noopener"><strong>NewRelic</strong></a> – software analytics tool suite used by developers, ops, and software companies to understand how your applications are performing in development and production</li>
<li><a href="https://amplify.nginx.com/" target="_blank" rel="noopener"><strong>NGINX Amplify</strong></a> – Visually identify performance bottlenecks, overloaded servers, or potential DDoS attacks. Improve and optimize NGINX performance with intelligent advice and recommendations. Get alerts when something is wrong with the delivery of your application. Plan capacity and performance for web applications. Keep track of systems running NGINX <a href="https://www.nginx.com/blog/announcing-amplify/" target="_blank" rel="noopener"><sup>1</sup></a></li>
</ul>
<h1 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h1><ul>
<li><a href="http://testutils.org/multi-mechanize/" target="_blank" rel="noopener">Multi-Mechanize | Performance Test Framework</a></li>
<li><a href="http://www.opensourcetesting.org/performance.php" target="_blank" rel="noopener">Performance test tools list</a></li>
<li><a href="https://insomnia.rest/" target="_blank" rel="noopener">REST API client</a> - simple, beautiful, and free REST API client (<code>Mac</code>, <code>Windows</code>, and <code>Linux</code>)</li>
</ul>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="https://wy3148.github.io/2017/09/05/http-performance-testing/" data-id="ck98edeiy000p28ii371yqikw" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/benchmark-tools/">benchmark tools</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-golang-context" class="article article-type-post" itemscope="" itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/04/golang-context/">golang-context examples</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2017/09/04/golang-context/" class="article-date"><time datetime="2017-09-04T01:21:54.000Z" itemprop="datePublished">2017-09-04</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>#context with cancel<br>parent go routine cancel the child goroutine,<br>when parent routine stops to consume more messages, it call context.Cancel() function<br>to signal the child routine</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"context"</span></span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// gen generates integers in a separate goroutine and</span></span><br><span class="line">	<span class="comment">// sends them to the returned channel.</span></span><br><span class="line">	<span class="comment">// The callers of gen need to cancel the context once</span></span><br><span class="line">	<span class="comment">// they are done consuming generated integers not to leak</span></span><br><span class="line">	<span class="comment">// the internal goroutine started by gen.</span></span><br><span class="line">	gen := <span class="function"><span class="keyword">func</span><span class="params">(ctx context.Context)</span> &lt;-<span class="title">chan</span> <span class="title">int</span></span> &#123;</span><br><span class="line">		dst := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>)</span><br><span class="line">		n := <span class="number">1</span></span><br><span class="line">		<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">			<span class="keyword">for</span> &#123;</span><br><span class="line">				<span class="keyword">select</span> &#123;</span><br><span class="line">				<span class="keyword">case</span> &lt;-ctx.Done():</span><br><span class="line">					<span class="keyword">return</span> <span class="comment">// returning not to leak the goroutine</span></span><br><span class="line">				<span class="keyword">case</span> dst &lt;- n:</span><br><span class="line">					n++</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;()</span><br><span class="line">		<span class="keyword">return</span> dst</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	ctx, cancel := context.WithCancel(context.Background())</span><br><span class="line">	<span class="keyword">defer</span> cancel() <span class="comment">// cancel when we are finished consuming integers</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> n := <span class="keyword">range</span> gen(ctx) &#123;</span><br><span class="line">		fmt.Println(n)</span><br><span class="line">		<span class="keyword">if</span> n == <span class="number">5</span> &#123;</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>#context with value</p>
<p>we can pass some value from routines to routines, about the ‘key’, it’s not suggested using<br>string data type directly</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"context"</span></span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="comment">// "net"</span></span><br><span class="line">	<span class="string">"net/http"</span></span><br><span class="line">	<span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> TracId <span class="keyword">string</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">moreTime</span><span class="params">(c context.Context)</span> &lt;-<span class="title">chan</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	v := c.Value(TracId(<span class="string">"src"</span>))</span><br><span class="line">	fmt.Println(<span class="string">"remote src is:"</span>, v.(<span class="keyword">string</span>))</span><br><span class="line"></span><br><span class="line">	res := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>, <span class="number">1</span>)</span><br><span class="line">	time.Sleep(<span class="number">1</span> * time.Second)</span><br><span class="line">	res &lt;- <span class="number">1</span></span><br><span class="line">	<span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">	c := r.Context()</span><br><span class="line">	newC := context.WithValue(c, TracId(<span class="string">"src"</span>), r.RemoteAddr)</span><br><span class="line">	<span class="keyword">go</span> moreTime(newC)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	http.HandleFunc(<span class="string">"/foo"</span>, foo)</span><br><span class="line">	http.ListenAndServe(<span class="string">":8081"</span>, <span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>#context with timeout</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"context"</span></span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="comment">// "net"</span></span><br><span class="line">	<span class="string">"net/http"</span></span><br><span class="line">	<span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> TracId <span class="keyword">string</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">moreTime</span><span class="params">(c context.Context)</span> &lt;-<span class="title">chan</span> <span class="title">string</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	res := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">string</span>, <span class="number">1</span>)</span><br><span class="line">	<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		<span class="keyword">defer</span> <span class="built_in">close</span>(res)</span><br><span class="line">		<span class="keyword">for</span> &#123;</span><br><span class="line">			<span class="keyword">select</span> &#123;</span><br><span class="line">			<span class="keyword">case</span> &lt;-time.After(<span class="number">1</span> * time.Second):</span><br><span class="line">				fmt.Println(<span class="string">"overslept"</span>)</span><br><span class="line">				res &lt;- <span class="string">"working\n"</span></span><br><span class="line">			<span class="keyword">case</span> &lt;-c.Done():</span><br><span class="line">				fmt.Println(c.Err()) <span class="comment">// prints "context deadline exceeded"</span></span><br><span class="line">				res &lt;- <span class="string">"timeout\n"</span></span><br><span class="line">				<span class="keyword">return</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;()</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">	ctx, cancel := context.WithTimeout(context.Background(), <span class="number">5</span>*time.Second)</span><br><span class="line">	<span class="keyword">defer</span> cancel()</span><br><span class="line"></span><br><span class="line">	res := moreTime(ctx)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> v := <span class="keyword">range</span> res &#123;</span><br><span class="line">		w.Write([]<span class="keyword">byte</span>(v))</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	http.HandleFunc(<span class="string">"/foo"</span>, foo)</span><br><span class="line">	http.ListenAndServe(<span class="string">":8081"</span>, <span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>when we don’t want to the response forever, we can set a timeout in this way,<br>we need to check the ‘error’ response of client.Do() function<br><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ctx, cancel := context.WithTimeout(context.Background(), <span class="number">10</span>*time.Second)</span><br><span class="line"><span class="keyword">defer</span> cancel()</span><br><span class="line"></span><br><span class="line">client := <span class="built_in">new</span>(http.Client)</span><br><span class="line">req, _ := http.NewRequest(<span class="string">"GET"</span>, <span class="string">"http://192.168.2.59:8081/foo"</span>, <span class="literal">nil</span>)</span><br><span class="line">copyReq := req.WithContext(ctx)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">	fmt.Println(err)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	b := <span class="built_in">make</span>([]<span class="keyword">byte</span>, <span class="number">1024</span>)</span><br><span class="line">	ress.Body.Read(b)</span><br><span class="line">	fmt.Println(<span class="keyword">string</span>(b))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="https://wy3148.github.io/2017/09/04/golang-context/" data-id="ck98edeip000a28iis5cd3iw6" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/golang/">golang</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-golang-return-channel-in-func" class="article article-type-post" itemscope="" itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/04/golang-return-channel-in-func/">golang-return channel vs retufn &lt;- channel</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2017/09/04/golang-return-channel-in-func/" class="article-date"><time datetime="2017-09-03T23:43:02.000Z" itemprop="datePublished">2017-09-04</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://stackoverflow.com/questions/31920353/whats-the-difference-between-chan-and-chan-as-a-function-return-type" target="_blank" rel="noopener">https://stackoverflow.com/questions/31920353/whats-the-difference-between-chan-and-chan-as-a-function-return-type</a></p>
<p>in golang, some functions can return ‘channel’, and some functions return channel with prefix:’ &lt;- ‘</p>
<p>Golang newbie here.</p>
<p>Is there a functional difference between</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function">func <span class="title">randomNumberGenerator</span><span class="params">()</span> &lt;-chan <span class="keyword">int</span> </span>&#123;</span><br><span class="line">and</span><br><span class="line"></span><br><span class="line"><span class="function">func <span class="title">randomNumberGenerator</span><span class="params">()</span> chan <span class="keyword">int</span> </span>&#123;</span><br><span class="line">I<span class="string">'ve tried using both and they seem to work fine for me.</span></span><br></pre></td></tr></table></figure>
<p>I’ve seen the former used by Rob Pike (one of Go creators) in his Go Concurrency Patterns talk at Google IO 2012. I’ve also seen it used in Go’s official website. Why add 2 extra characters (“&lt;-“) when you can omit it? I’ve tried looking for the difference on the web, but couldn’t find it.</p>
<p>Both will work indeed. But one will be more constraining. The form with the arrow pointing away from the chan keyword means that the returned channel will only be able to be pulled from by client code. No pushing allowed : the pushing will be done by the random number generator function. Conversely, there’s a third form with the arrow pointing towards chan, that makes said channel write-only to clients.</p>
<p>chan   // read-write<br>&lt;-chan // read only<br>chan&lt;- // write only<br>These added constraints can improve the expression of intent and tighten the type system : attempts to force stuff into a read-only channel will leave you with a compilation error, and so will attempts to read from a write-only channel. These constraints can be expressed in the return type, but they can also be part of the parameter signature. Like in :</p>
<p>func log(&lt;-chan string) { …<br>There you can know, just by the signature, that the log function will consume data from the channel, and not send any to it.</p>
<p>code sample</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function">func <span class="title">shopping</span><span class="params">(num <span class="keyword">int</span>)</span> &lt;-chan <span class="keyword">int</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	res := make(chan <span class="keyword">int</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">	<span class="function">go <span class="title">func</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="function">defer <span class="title">close</span><span class="params">(res)</span></span></span><br><span class="line"><span class="function">		time.<span class="title">Sleep</span><span class="params">(<span class="number">5</span> * time.Second)</span></span></span><br><span class="line"><span class="function">		res &lt;- 100</span></span><br><span class="line"><span class="function">	&#125;<span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">	return res</span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">func <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	v := shopping(<span class="number">5</span>)</span><br><span class="line">	v &lt;- <span class="number">100</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>It will generate the compile error<br>invalid operation: v &lt;- 100 (send to receive-only type &lt;-chan int)</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="https://wy3148.github.io/2017/09/04/golang-return-channel-in-func/" data-id="ck98edeis000g28iisde8b3w1" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/golang/">golang</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-golang-sync-Map" class="article article-type-post" itemscope="" itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/01/golang-sync-Map/">try sync.Map in golang 1.9</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2017/09/01/golang-sync-Map/" class="article-date"><time datetime="2017-09-01T00:08:51.000Z" itemprop="datePublished">2017-09-01</time></a>
</div>

    
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/golang/">golang</a>
  </div>


  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>Golang 1.9 new version support safe Map now, details can be found,</p>
<p><a href="https://golang.org/pkg/sync/#Map.Load" target="_blank" rel="noopener">https://golang.org/pkg/sync/#Map.Load</a></p>
<p>Here is sample code, test filename is ‘sync_map.go’</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"sync"</span></span><br><span class="line">	<span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">writeProc</span><span class="params">(m *sync.Map, c <span class="keyword">chan</span> <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">        i := <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> &#123;</span><br><span class="line">            v, ok := m.Load(<span class="string">"ok1"</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> ok &#123;</span><br><span class="line">                fmt.Println(<span class="string">"get the ok 1"</span>)</span><br><span class="line">                fmt.Println(v)</span><br><span class="line">                c &lt;- <span class="number">1</span></span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            fmt.Printf(<span class="string">"does not get the key element, sleep for one second, counting: %d\n"</span>, i)</span><br><span class="line">            i++</span><br><span class="line">            time.Sleep(<span class="number">1000</span> * time.Millisecond)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	m := <span class="built_in">new</span>(sync.Map)</span><br><span class="line"></span><br><span class="line">	c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>)</span><br><span class="line"></span><br><span class="line">	writeProc(m, c)</span><br><span class="line"></span><br><span class="line">	time.Sleep(<span class="number">10</span> * time.Second)</span><br><span class="line">	m.Store(<span class="string">"ok1"</span>, <span class="string">"goood!!!"</span>)</span><br><span class="line">	&lt;-c</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>output example:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">go run sync_map.go </span><br><span class="line">does not get the key element, sleep for one second, counting: 0</span><br><span class="line">does not get the key element, sleep for one second, counting: 1</span><br><span class="line">does not get the key element, sleep for one second, counting: 2</span><br><span class="line">does not get the key element, sleep for one second, counting: 3</span><br><span class="line">does not get the key element, sleep for one second, counting: 4</span><br><span class="line">does not get the key element, sleep for one second, counting: 5</span><br><span class="line">does not get the key element, sleep for one second, counting: 6</span><br><span class="line">does not get the key element, sleep for one second, counting: 7</span><br><span class="line">does not get the key element, sleep for one second, counting: 8</span><br><span class="line">does not get the key element, sleep for one second, counting: 9</span><br><span class="line">get the ok 1</span><br><span class="line">goood!!!</span><br></pre></td></tr></table></figure></p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="https://wy3148.github.io/2017/09/01/golang-sync-Map/" data-id="ck98edeiw000j28ii9qp4hpui" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/golang/">golang</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-leetcode-binary-tree-max-depth" class="article article-type-post" itemscope="" itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/25/leetcode-binary-tree-max-depth/">leetcode-binary-tree-max-depth</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2017/08/25/leetcode-binary-tree-max-depth/" class="article-date"><time datetime="2017-08-25T12:14:54.000Z" itemprop="datePublished">2017-08-25</time></a>
</div>

    
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/leetcode-binary-tree/">leetcode binary tree</a>
  </div>


  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>Given a binary tree, find its maximum depth.</p>
<p>The maximum depth is the number of nodes along the longest path from the root node down to the farthest leaf node.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxDepth</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> left = <span class="keyword">this</span>.maxDepth(root.left);</span><br><span class="line">        <span class="keyword">int</span> right = <span class="keyword">this</span>.maxDepth(root.right);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(left &gt; right)&#123;</span><br><span class="line">            <span class="keyword">return</span> left + <span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> right+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="https://wy3148.github.io/2017/08/25/leetcode-binary-tree-max-depth/" data-id="ck98edejf001k28iig87joug7" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-leetcode-binary-tree-bfs-avarage-value" class="article article-type-post" itemscope="" itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/25/leetcode-binary-tree-bfs-avarage-value/">Average of Levels in Binary Tree</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2017/08/25/leetcode-binary-tree-bfs-avarage-value/" class="article-date"><time datetime="2017-08-25T04:50:50.000Z" itemprop="datePublished">2017-08-25</time></a>
</div>

    
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/leetcode/">leetcode</a>
  </div>


  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>Given a non-empty binary tree, return the average value of the nodes on each level in the form of an array.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Example 1:</span><br><span class="line">Input:</span><br><span class="line">    3</span><br><span class="line">   / \</span><br><span class="line">  9  20</span><br><span class="line">    /  \</span><br><span class="line">   15   7</span><br><span class="line">Output: [3, 14.5, 11]</span><br></pre></td></tr></table></figure>
<p>Explanation:<br>The average value of nodes on level 0 is 3,  on level 1 is 14.5,<br>and on level 2 is 11. Hence return [3, 14.5, 11].<br>Note:<br>The range of node’s value is in the range of 32-bit signed integer.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Double&gt; <span class="title">averageOfLevels</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        List&lt;Double&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        Queue&lt;TreeNode&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span> result;</span><br><span class="line">        q.add(root);</span><br><span class="line">        <span class="keyword">while</span>(!q.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span> n = q.size(); <span class="comment">// this is number of nodes in current level</span></span><br><span class="line">            <span class="keyword">double</span> sum = <span class="number">0.0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">                TreeNode node = q.poll();</span><br><span class="line">                sum += node.val;</span><br><span class="line">                <span class="keyword">if</span>(node.left != <span class="keyword">null</span>) q.offer(node.left);</span><br><span class="line">                <span class="keyword">if</span>(node.right != <span class="keyword">null</span>) q.offer(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">            result.add(sum / n);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="https://wy3148.github.io/2017/08/25/leetcode-binary-tree-bfs-avarage-value/" data-id="ck98edeje001i28iicay0i5g6" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-leetcode-Reshape-the-Matrix" class="article article-type-post" itemscope="" itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/25/leetcode-Reshape-the-Matrix/">leetcode-Reshape-the-Matrix</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2017/08/25/leetcode-Reshape-the-Matrix/" class="article-date"><time datetime="2017-08-25T02:05:42.000Z" itemprop="datePublished">2017-08-25</time></a>
</div>

    
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/leetcode/">leetcode</a>
  </div>


  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>In MATLAB, there is a very useful function called ‘reshape’, which can reshape a matrix into a new one with different size but keep its original data.</p>
<p>You’re given a matrix represented by a two-dimensional array, and two positive integers r and c representing the row number and column number of the wanted reshaped matrix, respectively.</p>
<p>The reshaped matrix need to be filled with all the elements of the original matrix in the same row-traversing order as they were.</p>
<p>If the ‘reshape’ operation with given parameters is possible and legal, output the new reshaped matrix; Otherwise, output the original matrix.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Example 1:</span><br><span class="line">Input: </span><br><span class="line">nums = </span><br><span class="line">[[1,2],</span><br><span class="line"> [3,4]]</span><br><span class="line">r = 1, c = 4</span><br><span class="line">Output: </span><br><span class="line">[[1,2,3,4]]</span><br><span class="line">Explanation:</span><br><span class="line">The row-traversing of nums is [1,2,3,4]. The new reshaped matrix is a 1 * 4 matrix, fill it row by row by using the previous list.</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Example 2:</span><br><span class="line">Input: </span><br><span class="line">nums = </span><br><span class="line">[[1,2],</span><br><span class="line"> [3,4]]</span><br><span class="line">r = 2, c = 4</span><br><span class="line">Output: </span><br><span class="line">[[1,2],</span><br><span class="line"> [3,4]]</span><br><span class="line">Explanation:</span><br><span class="line">There is no way to reshape a 2 * 2 matrix to a 2 * 4 matrix. So output the original matrix.</span><br></pre></td></tr></table></figure>
<p>Note:<br>The height and width of the given matrix is in range [1, 100].<br>The given r and c are all positive.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[][] matrixReshape(<span class="keyword">int</span>[][] nums, <span class="keyword">int</span> r, <span class="keyword">int</span> c) &#123;</span><br><span class="line">    		<span class="keyword">if</span> (nums == <span class="keyword">null</span> || r*c &lt;= <span class="number">0</span>) <span class="keyword">return</span> nums;</span><br><span class="line">    		</span><br><span class="line">    		<span class="keyword">int</span> size = nums.length * nums[<span class="number">0</span>].length;</span><br><span class="line">    		</span><br><span class="line">    		<span class="keyword">if</span> (r * c != size) &#123;</span><br><span class="line">    			<span class="keyword">return</span> nums;</span><br><span class="line">    		&#125;</span><br><span class="line">    	</span><br><span class="line">    		<span class="keyword">int</span>[] tmp = <span class="keyword">new</span> <span class="keyword">int</span>[size];</span><br><span class="line">    		</span><br><span class="line">    		<span class="keyword">int</span> i, j;</span><br><span class="line">    		<span class="keyword">int</span> pos = <span class="number">0</span>;</span><br><span class="line">    		</span><br><span class="line">    		<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    			<span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; nums[i].length;j++) &#123;</span><br><span class="line">    				tmp[pos] = nums[i][j];</span><br><span class="line">    				pos++;</span><br><span class="line">    			&#125;</span><br><span class="line">    		&#125;</span><br><span class="line">    		</span><br><span class="line">    		<span class="keyword">int</span>[][] res = <span class="keyword">new</span> <span class="keyword">int</span>[r][c];</span><br><span class="line">    		pos = <span class="number">0</span>;</span><br><span class="line">    		</span><br><span class="line">    		<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; r; i++) &#123;</span><br><span class="line">    			</span><br><span class="line">    			<span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; c; j++) &#123;</span><br><span class="line">    				res[i][j] = tmp[pos];</span><br><span class="line">    				pos++;</span><br><span class="line">    			&#125;</span><br><span class="line">    		&#125;</span><br><span class="line">    		</span><br><span class="line">    		<span class="keyword">return</span> res;        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>the new rom index and column index has following relationship, so there is optimised<br>way</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[][] matrixReshape(<span class="keyword">int</span>[][] nums, <span class="keyword">int</span> r, <span class="keyword">int</span> c) &#123;</span><br><span class="line">    <span class="keyword">int</span> n = nums.length, m = nums[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">if</span> (r*c != n*m) <span class="keyword">return</span> nums;</span><br><span class="line">    <span class="keyword">int</span>[][] res = <span class="keyword">new</span> <span class="keyword">int</span>[r][c];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;r*c;i++) </span><br><span class="line">        res[i/c][i%c] = nums[i/m][i%m];</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="https://wy3148.github.io/2017/08/25/leetcode-Reshape-the-Matrix/" data-id="ck98edejc001c28iim8625wlq" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="leetcode-distribute-Candies" class="article article-type-leetcode-distribute" itemscope="" itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/24/Candies/">Candies</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2017/08/24/Candies/" class="article-date"><time datetime="2017-08-24T13:17:05.000Z" itemprop="datePublished">2017-08-24</time></a>
</div>

    
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/leetcode/">leetcode</a>
  </div>


  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>Given an integer array with even length, where different numbers in this array represent different kinds of candies. Each number means one candy of the corresponding kind. You need to distribute these candies equally in number to brother and sister. Return the maximum number of kinds of candies the sister could gain.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Example 1:</span><br><span class="line">Input: candies = [1,1,2,2,3,3]</span><br><span class="line">Output: 3</span><br><span class="line">Explanation:</span><br><span class="line">There are three different kinds of candies (1, 2 and 3), and two candies for each kind.</span><br><span class="line">Optimal distribution: The sister has candies [1,2,3] and the brother has candies [1,2,3], too. </span><br><span class="line">The sister has three different kinds of candies. </span><br><span class="line">Example 2:</span><br><span class="line">Input: candies = [1,1,2,3]</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: For example, the sister has candies [2,3] and the brother has candies [1,1]</span><br><span class="line">. </span><br><span class="line">The sister has two different kinds of candies, the brother has only one kind of candies.</span><br></pre></td></tr></table></figure>
<p>Note:</p>
<p>The length of the given array is in range [2, 10,000], and will be even.<br>The number in given array is in range [-100,000, 100,000].</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int distributeCandies(int[] candies) &#123;</span><br><span class="line">        </span><br><span class="line">       int len = candies.length;</span><br><span class="line">        </span><br><span class="line">        if (len &lt;= 0) return 0;</span><br><span class="line">        </span><br><span class="line">        int max = len/2;</span><br><span class="line">        int count = 1;</span><br><span class="line">        int i;</span><br><span class="line">        </span><br><span class="line">        Arrays.sort(candies);</span><br><span class="line">    </span><br><span class="line">        int prev = candies[0];</span><br><span class="line">        </span><br><span class="line">        for( i = 1; i &lt; len; i++)&#123;</span><br><span class="line">            if (candies[i] != prev)&#123;                </span><br><span class="line">                count++;</span><br><span class="line">                prev = candies[i];</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            if (count &gt;= max) return max;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        return (count &gt; max ? max: count);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="https://wy3148.github.io/2017/08/24/Candies/" data-id="ck98edeim000628iiwffiwa3i" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java-arrays-sort/">java, arrays.sort</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-leetcode-Number-Complement" class="article article-type-post" itemscope="" itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/24/leetcode-Number-Complement/">leetcode-Number-Complement</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2017/08/24/leetcode-Number-Complement/" class="article-date"><time datetime="2017-08-24T12:21:14.000Z" itemprop="datePublished">2017-08-24</time></a>
</div>

    
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/leetcode/">leetcode</a>
  </div>


  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>Given a positive integer, output its complement number. The complement strategy is to flip the bits of its binary representation.</p>
<p>Note:<br>The given integer is guaranteed to fit within the range of a 32-bit signed integer.<br>You could assume no leading zero bit in the integer’s binary representation.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Example 1:</span><br><span class="line">Input: 5</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: The binary representation of 5 is 101 (no leading zero bits), and its complement is 010. So you need to output 2.</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int findComplement(int num) &#123;</span><br><span class="line">        long i;</span><br><span class="line">        for(i=1;i&lt;=num;i*=2) num^=i; </span><br><span class="line">        return num;  </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="https://wy3148.github.io/2017/08/24/leetcode-Number-Complement/" data-id="ck98edej4001328iiu5mdy13t" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-leetcode-Reverse-Words-in-a-String-III" class="article article-type-post" itemscope="" itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/23/leetcode-Reverse-Words-in-a-String-III/">leetcode-Reverse-Words-in-a-String-III</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2017/08/23/leetcode-Reverse-Words-in-a-String-III/" class="article-date"><time datetime="2017-08-23T12:14:53.000Z" itemprop="datePublished">2017-08-23</time></a>
</div>

    
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/leetcode/">leetcode</a>
  </div>


  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>Given a string, you need to reverse the order of characters in each word within a sentence while still preserving whitespace and initial word order.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Example 1:</span><br><span class="line">Input: &quot;Let&apos;s take LeetCode contest&quot;</span><br><span class="line">Output: &quot;s&apos;teL ekat edoCteeL tsetnoc&quot;</span><br><span class="line">Note: In the string, each word is separated by single space and there will not be any extra space in the string.</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">reverseSingle</span><span class="params">(String c)</span></span>&#123;</span><br><span class="line">        <span class="keyword">char</span>[] str = c.toCharArray();</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">char</span> tmp;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(i &lt; c.length()/<span class="number">2</span>)&#123;</span><br><span class="line">            tmp = str[i];</span><br><span class="line">            str[i] = str[c.length()-<span class="number">1</span>-i];</span><br><span class="line">            str[c.length()-<span class="number">1</span>-i] = tmp;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> String(str);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">reverseWords</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        String[] m = s.split(<span class="string">" "</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        String res = <span class="string">""</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; m.length; i++)&#123;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> (res.length() == <span class="number">0</span>)&#123;</span><br><span class="line">                res += reverseSingle(m[i]);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                res = res + <span class="string">" "</span> + reverseSingle(m[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>someone post another way using the natural StringBuilder class,<br>it has ‘reverse’ method,</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">reverseWords</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    String[] str = s.split(<span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.length; i++) str[i] = <span class="keyword">new</span> StringBuilder(str[i]).reverse().toString();</span><br><span class="line">    StringBuilder result = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">for</span> (String st : str) result.append(st + <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">return</span> result.toString().trim();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="https://wy3148.github.io/2017/08/23/leetcode-Reverse-Words-in-a-String-III/" data-id="ck98edejd001e28iievyosny1" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li></ul>


    </footer>
  </div>
  
</article>



  


  <div id="page-nav">
    <nav><ul class="pagination"><li><a class="page-prev" rel="prev" href="/"><i class="fa fa-chevron-left"></i> Prev</a></li><li><a class="page-number" href="/">1</a></li><li class="active"><span class="page-number">2</span></li><li><a class="page-number" href="/page/3/">3</a></li><li><a class="page-next" rel="next" href="/page/3/">Next <i class="fa fa-chevron-right"></i></a></li></ul></nav>
  </div>



        </div>
        <div class="col-sm-3 col-sm-offset-1 blog-sidebar">
          
  <div class="sidebar-module sidebar-module-inset">
  <h4>About</h4>
  <p>welcome to my tech blog</p> <p>https://www.linkedin.com/in/wy3148/</p>

</div>


  
  <div class="sidebar-module">
    <h4>Categories</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/golang/">golang</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/leetcode/">leetcode</a><span class="sidebar-module-list-count">7</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/leetcode-binary-tree/">leetcode binary tree</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/old-posts-in-wordpress-blog/">old posts in wordpress blog</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/ubuntu-LTS/">ubuntu LTS</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/zookeeper/">zookeeper</a><span class="sidebar-module-list-count">1</span></li></ul>
  </div>



  
  <div class="sidebar-module">
    <h4>Archives</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2020/04/">April 2020</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2019/11/">November 2019</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2019/10/">October 2019</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2019/02/">February 2019</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2019/01/">January 2019</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/09/">September 2017</a><span class="sidebar-module-list-count">6</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/08/">August 2017</a><span class="sidebar-module-list-count">12</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/07/">July 2017</a><span class="sidebar-module-list-count">1</span></li></ul>
  </div>



  
  <div class="sidebar-module">
    <h4>Recents</h4>
    <ul class="sidebar-module-list">
      
        <li>
          <a href="/2020/04/20/binary-search-all/">binary search algorithm--different ways in coding</a>
        </li>
      
        <li>
          <a href="/2019/11/22/elastic-notes-1/">elasticsearch notes-1</a>
        </li>
      
        <li>
          <a href="/2019/11/01/support/">Use kafka in Golang</a>
        </li>
      
        <li>
          <a href="/2019/10/22/golang-webservice-data-orm/">Use golang to develop webservice-ORM/Relation database</a>
        </li>
      
        <li>
          <a href="/2019/10/21/use-golang-web-server-2/">Use Golang to develop web service-2</a>
        </li>
      
    </ul>
  </div>



        </div>
    </div>
  </div>
  <footer class="blog-footer">
  <div class="container">
    <div id="footer-info" class="inner">
      &copy; 2020 YE WANG<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

  

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>



<script src="/js/script.js"></script>

</body>
</html>
